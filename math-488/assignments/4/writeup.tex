\documentclass[11pt,letterpaper]{article}

\author{Jacob Thomas Errington}
\title{Assignment \#4\\Honours set theory -- MATH 488}
\date{10 March 2017}

\usepackage[geometry]{jakemath}

\newcommand{\cechstone}{\v{C}ech-Stone}

\begin{document}

\maketitle

\begin{prop}
    Suppose $X$ is a set and $A \subseteq X$. Then, the closure of $A$ in
    $\beta X$ is equal to $\hat A$.
\end{prop}

\begin{proof}
    Denote by $\mathcal{A}$ the set $A$ interpreted as the image of $A$ under
    the principal ultrafilter map.
    First, note that $\mathcal{A} \subseteq \hat A$.
    To see this, take $p \in \mathcal{A}$ a principal ultrafilter generated by
    some $a \in A$, so $\{ a \} \in \mathcal{A}$. Since $\{a\} \subseteq A$, we
    have that $A \in \mathcal{A}$ by the upwards closure property of filters.
    Then by definition of $\hat A$, we have $\mathcal{A} \in \hat A$.
    Next, we know that $\hat A$ is closed, and that a closed set contains
    another set if and only if it contains the closure of that set.
    Hence, $\closure{A} \subseteq \hat A$.

    Next, take arbitrary $p \in \hat A$.
    We want to show that $p \in \closure{A}$.
    To do so, we will show that $p$ is a point of closure of $A$,
    i.e. that every neighbourhood of $p$ contains a point of $A$.
    Take an arbitrary neighbourhood of $p$ and restrict it to a basic
    neighbourhood $\hat B$ such that $B \subseteq X$.
    Then we have that $A \in P$ and $B \in p$, so $A \intersn B \in p$.
    Hence, for any $x \in A \intersn B$,
    we have $u(x) \in u(A) \intersn \hat B$,
    where $u : X \embedsto \beta X$ is the principal ultrafilter map.
    In particular, $u(A) \intersn B \neq \emptyset$ for any neighbourhood of
    $p$. This shows that every neighbourhood of $p$ contains a point of $A$.
    Hence $\hat A \subseteq \closure{A}$.
\end{proof}

\begin{prop}
    \label{prop:compact-hausdorff-continuous-extension}
    Let $X$ be a set, $C$ a compact Hausdorff space, and $f : X \to C$ a
    function. Suppose $p$ is an ultrafilter on $X$. Then, there exists a unique
    point $z \in C$ such that for every neighbourhood $U$ of $z$ we have
    \begin{equation*}
        \{ x \in X : f (x) \in U \} \in p
    \end{equation*}
\end{prop}

\begin{proof}
    Suppose not. Then for all $z \in C$, there is a neighbourhood $U_z$ of $z$
    such that $\{ x \in X : f(x) \in U_z \} \notin p$.

    The collection of all such $U_z$ forms a cover of $C$. Hence there exists
    finite $Z_0 \subseteq C$ such that $\{U_z\}_{z \in Z_0}$ is a subcover of
    $C$. Let $A_z = f\inv (U_z)$. Then,
    \begin{equation*}
        \Union_{z \in Z_0} A_z
        = \Union_{z \in Z_0} f\inv (U_z)
        = f\inv \parens{ \Union_{z \in Z_0} U_z }
        = f\inv (C)
        = X
    \end{equation*}
    which shows that $X$ can be finitely partitioned. We take the complement of
    both sides. Since each piece of the partition is not in the ultrafilter,
    each piece's complement is. Hence, the intersection of all the complements,
    which is finite, is also in the ultrafilter, but this is empty set.
    \begin{align*}
        \parens{ \Union_{z \in Z_0} A_z }\compl
        = \Intersn_{z \in Z_0} A_z\compl
        = X\compl
        = \emptyset
        \in p
    \end{align*}

    This is a contradiction.

    Next, we look at uniqueness. Suppose $z_1, z_2 \in C$ are such that
    $z_1 \neq z_2$. Since $C$ is Hausdorff, we have disjoint neighbourhoods
    $U_{z_1} \ni z_1$ and $U_{z_2} \ni z_2$. By definition of the limit,
    \begin{equation*}
        f\inv (U_{z_1}) \intersn f\inv (U_{z_2})
        = f\inv (U_{z_1} \intersn U_{z_2})
        = \emptyset
        \in p
    \end{equation*}
    which is a contradiction.
\end{proof}

\begin{prop}
    Suppose $X$ is a set and $C$ is a compact Hausdorff space.
    Let $f : X \to C$ be a function. Then $f$ has a unique continuous extension
    $\beta f : \beta X \to C$.
\end{prop}

\begin{proof}
    Define $\beta f (p) = \lim_p f$. To see that this is an extension, look at
    $g = \beta f \compose u$ where $u : X \to \beta X$ is the principal
    ultrafilter map. We would like that $z = g(a) = f(a)$ for all $a$.
    Since $g(a)$ is a limit, we have that for every neighbourhood $U$ of
    $g(a)$,
    \begin{align*}
        \{x \in X : f(x) \in U \} &\in \{ A \subseteq X : a \in A \} \\
        a &\in f\inv(U) \\
        f(a) &\in U
    \end{align*}
    We have thus that $f(a)$ is in every neighbourhood of $z$.
    Suppose $f(a) \neq z$. Then by the Hausdorffness of $C$, we can separate
    $f(a)$ and $z$ by neighbourhoods, which is a contradiction.

    Next, we want to see that $\beta f$ is continuous.
    For simplicity, we assume that $C$ is zero-dimensional, so it has a basis
    consisting of clopen sets. To show that $\beta f$ is continuous, it
    suffices to verify that the preimage of any basic open set is open.
    Let $A \subseteq C$ be a basic open set,
    $f^* = \beta f$, and
    $A^\prime = \reallywidehat{f\inv(A)}$.

    We claim that $A^\prime = {f^*}\inv (A)$.

    First, take arbitrary $p \in A^\prime$, so $f\inv(A) \in p$.
    We want to show that
    \begin{equation*}
        p \in {f^*}\inv(A)
        = \setof{
            q \in \beta X :
            f^*(q) = \lim_q f \in A
        }
    \end{equation*}
    i.e. that $z = \lim_p f \in A$.
    Suppose not, so $z \notin A$. Since $C$ is compact Hausdorff, it is
    regular. Then as $A$ is closed, we can find open sets $A^* \supseteq A$ and
    $Z \ni z$ such that $Z \intersn A^* = \emptyset$.
    Notice that since $A$ is also open, we can identify $A^*$ and $A$.
    Since $z$ is a limit over an ultrafilter, we have that the preimage of the
    neighbourhood $Z \ni z$ belongs to $p$.
    We also have that $f\inv(A) \in p$, so $f\inv(Z) \intersn f\inv(A) \in p$.
    Since $Z \intersn A = \emptyset$, the preimages under $f$ must also have
    empty intersection, so $\emptyset \in p$, which is a contradiction.

    The reverse direction is simpler.
    Take arbitrary $p \in {f^*}\inv (A)$, so $z = \lim_p f \in A$.
    We want to show that $p \in A^\prime = \reallywidehat{f\inv(A)}$.
    Since $z$ is a limit over the ultrafilter $p$, we have for any
    neighbourhood $U_z \ni z$ that $f\inv(U_z) \in p$,
    i.e. $p \in \reallywidehat{f\inv(U_z)}$.
    Since $A$ is an open neighbourhood of $z$, we're done.
\end{proof}

\begin{prop}
    Suppose $(S, \cdot)$ is a semigroup. Then, $(\beta S, \cdot)$ is a left
    topological semigroup.
\end{prop}

\begin{proof}
    We need to verify two properties.

    \begin{description}
        \item[Associativity.]
            Take arbitrary $p, q, r \in \beta S$.
            We want to see that for any $A \subseteq S$,
            \begin{align*}
                A \in p \cdot (q \cdot r)
                & \iff
                \setof{
                    s \in S :
                    l_s\inv (A) \in q \cdot r
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    \setof{
                        s^\prime \in S :
                        l_{s^\prime}\inv ( l_s\inv (A) )
                        \in r
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    \setof{
                        s^\prime \in S :
                        l_s\inv ( l_{s^\prime}\inv (A) )
                        \in r
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    l_s\inv \parens{
                        \setof{
                            s^\prime \in S :
                            l_{s^\prime} (A)
                            \in r
                        }
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    l_s\inv (A) \in r
                }
                \in p \cdot q \\
                & \iff
                A \in (p \cdot q) \cdot r
            \end{align*}

        \item[Continuity.]
            We want to check that for any $s \in S$, the left multiplication
            map $L_s : \beta S \to \beta S$ is continuous.

            In general, for any $f : X \to Y$, we can obtain a continuous
            extension to $\beta f : \beta X \to \beta Y$. First, by
            postcomposing with the principal ultrafilter map, the codomain
            becomes a compact Hausdorff space. Then, we can apply proposition
            \ref{prop:compact-hausdorff-continuous-extension} to continuously
            extend the domain of the map to $\beta X$.

            Recall that $L_s = u \circ \beta l_s$, where $u : S \to \beta S$ is
            the principal ultrafilter map, so it is continuous.
    \end{description}
\end{proof}

Recall that the right multiplication map
$R_p = \beta r_p : \beta S \to \beta S$ is defined as the continuous extension
of $r_p(s) = L_s(p)$.

\begin{prop}
    For any $p, q \in \beta S$, we have that $p \cdot q = R_q (p)$
\end{prop}

\begin{proof}
    Take arbitrary $A \in p \cdot q$,
    so $\setof{s \in S : l_s\inv(A) \in q} \in p$.
    We want to show that $A \in R_q (p)$.

    Let $z = R_q (p) = \lim_p r_q$.
    By the definition of the limit over an ultrafilter, we have for every
    neighbourhood $U_z \ni z$ that
    \begin{align*}
        r_q\inv (U_z) &\in p \\
        \setof{s \in S : r_q(s) \in U_z} &\in p \\
        \setof{s \in S : L_s(q) \in U_z} &\in p \\
        \setof{s \in S : u(\lim_q l_s) \in U_z} &\in p
    \end{align*}
    where $u : S \to \beta S$ is the principal ultrafilter map.
    Notice that $y = \lim_q l_s$ means that for every neighbourhood
    $U_y \ni y$, we have $l_s\inv (U_y) \in q$.

    Suppose $A \notin z$, so $z \notin \hat A$.
    By regularity, we can find $Z \ni z$ such that
    $Z \intersn \hat A = \emptyset$.
    Instantiating $Z = U_z$, we have
    \begin{align*}
        \setof{s \in S : u(\lim_q l_s) \in Z} &\in p \\
        \setof{
            s \in S :
            \exists y \in S \; . \;
            \parens{
                \forall U_y \ni y \; . \;
                l_s\inv(U_y) \in q
            }
            \land
            \setof{
                B \subseteq S :
                y \in B
            }
            \in Z
        }
        &\in p
    \end{align*}

    From here I'm not sure how to proceed.
\end{proof}

\begin{prop}
    If $S$ is a cancellative semigroup,
    then for any $p, q \in \beta S$,
    if $p \cdot q \in S$, then $p \in u(S)$ and $q \in u(S)$,
    where $u : S \to \beta S$ is the principal ultrafilter map.
\end{prop}

\begin{proof}
    Take arbitrary $p, q \in \beta S$ and suppose that $p \cdot q \in u(S)$.
    Hence we have $t \in S$ such that $p \cdot q = u(t)$ is the principal
    ultrafilter generated by $t$,
    i.e. $p \cdot q = \setof{A \subseteq S : t \in A}$.
    We want to show that $p \in u(S)$ and that $q \in u(S)$,
    i.e. that there are $p = u(t_p)$ and that $q = u(t_q)$
    for some $t_p, t_q \in S$.

    By definition of the product of ultrafilters in the \cechstone{}
    compactification, we have
    \begin{equation*}
        p \cdot q = \setof{
            A \subseteq S :
            \setof{
                s \in S :
                l_s\inv(A) \in q
            }
            \in p
        }
    \end{equation*}

    Since $p \cdot q$ is principal, $t \in A$ for each $A \in p \cdot q$.
    Hence, $\setof{s \in S : l_s\inv(\{t\}) \in q} \in p$.

    Since $S$ is cancellative, its left product maps are injective,
    so all the preimages $l_s\inv(\{t\})$ have at most one element.

    Now we look more closely at
    $B = \setof{s \in S : l_s\inv(\{t\}) \in q}$.
    Of course, this set must be nonempty, else the empty set would belong to
    $p$.
    Suppose two arbitrary elements in $B$, say $s_1$ and $s_2$.
    Then we have $S_1 = l_{s_1}\inv(\{t\}) \in q$
    and $S_2 = l_{s_2}\inv(\{t\}) \in q$.
    Hence, $\emptyset \neq S_1 \intersn S_2 \in q$.
    Let $s \in S_1 \intersn S_2$. Then $s_1 \cdot s = t$ and $s_2 \cdot s = t$,
    so $s_1 = s_2$ by the cancellation property of $S$.
    Hence $B = \{t_p\}$ is a singleton, and $t_p$ is a generator for $p$.

    Let $s$ now be the unique element of $B$.
    Then $\{t_q\} = l_s\inv(A) \in q$ is a singleton as well,
    and is a generator for $q$.

    Hence, $p$ and $q$ are principal ultrafilters.
\end{proof}
\end{document}
