\documentclass[11pt,letterpaper]{article}

\author{Jacob Thomas Errington}
\title{Assignment \#4\\Honours set theory -- MATH 488}
\date{10 March 2017}

\usepackage[margin=2.0cm]{geometry}
\usepackage{amsmath,amssymb,amsthm}

\newtheorem{prop}{Proposition}

\newcommand{\inv}{^{-1}}
\newcommand{\Union}{\bigcup}
\newcommand{\Intersn}{\bigcap}
\newcommand{\parens}[1]{\left(#1\right)}
\newcommand{\compl}{\overline}
\newcommand{\intersn}{\cap}
\DeclareMathOperator{\closureOp}{Cl}
\newcommand{\closure}[1]{\closureOp{\parens{#1}}}
\newcommand{\embedsto}{\hookrightarrow}
\newcommand{\compose}{\circ}
\newcommand{\setof}[1]{\left\{#1\right\}}

\usepackage{scalerel,stackengine}
\stackMath
\newcommand\reallywidehat[1]{%
\savestack{\tmpbox}{\stretchto{%
  \scaleto{%
    \scalerel*[\widthof{\ensuremath{#1}}]{\kern-.6pt\bigwedge\kern-.6pt}%
    {\rule[-\textheight/2]{1ex}{\textheight}}%WIDTH-LIMITED BIG WEDGE
  }{\textheight}%
}{0.5ex}}%
\stackon[1pt]{#1}{\tmpbox}%
}
\parskip 1ex

\newcommand{\cechstone}{\v{C}ech-Stone}

\begin{document}

\maketitle

\begin{prop}
    Suppose $X$ is a set and $A \subseteq X$. Then, the closure of $A$ in
    $\beta X$ is equal to $\hat A$.
\end{prop}

\begin{proof}
    Denote by $\mathcal{A}$ the set $A$ interpreted as the image of $A$ under
    the principal ultrafilter map.
    First, note that $\mathcal{A} \subseteq \hat A$.
    To see this, take $p \in \mathcal{A}$ a principal ultrafilter generated by
    some $a \in A$, so $\{ a \} \in \mathcal{A}$. Since $\{a\} \subseteq A$, we
    have that $A \in \mathcal{A}$ by the upwards closure property of filters.
    Then by definition of $\hat A$, we have $\mathcal{A} \in \hat A$.
    Next, we know that $\hat A$ is closed, and that a closed set contains
    another set if and only if it contains the closure of that set.
    Hence, $\closure{A} \subseteq \hat A$.

    Next, take arbitrary $p \in \hat A$.
    We want to show that $p \in \closure{A}$.
    To do so, we will show that $p$ is a point of closure of $A$,
    i.e. that every neighbourhood of $p$ contains a point of $A$.
    Take an arbitrary neighbourhood of $p$ and restrict it to a basic
    neighbourhood $\hat B$ such that $B \subseteq X$.
    Then we have that $A \in P$ and $B \in p$, so $A \intersn B \in p$.
    Hence, for any $x \in A \intersn B$,
    we have $u(x) \in u(A) \intersn \hat B$,
    where $u : X \embedsto \beta X$ is the principal ultrafilter map.
    In particular, $u(A) \intersn B \neq \emptyset$ for any neighbourhood of
    $p$. This shows that every neighbourhood of $p$ contains a point of $A$.
    Hence $\hat A \subseteq \closure{A}$.
\end{proof}

\begin{prop}
    \label{prop:compact-hausdorff-continuous-extension}
    Let $X$ be a set, $C$ a compact Hausdorff space, and $f : X \to C$ a
    function. Suppose $p$ is an ultrafilter on $X$. Then, there exists a unique
    point $z \in C$ such that for every neighbourhood $U$ of $z$ we have
    \begin{equation*}
        \{ x \in X : f (x) \in U \} \in p
    \end{equation*}
\end{prop}

\begin{proof}
    Suppose not. Then for all $z \in C$, there is a neighbourhood $U_z$ of $z$
    such that $\{ x \in X : f(x) \in U_z \} \notin p$.

    The collection of all such $U_z$ forms a cover of $C$. Hence there exists
    finite $Z_0 \subseteq C$ such that $\{U_z\}_{z \in Z_0}$ is a subcover of
    $C$. Let $A_z = f\inv (U_z)$. Then,
    \begin{equation*}
        \Union_{z \in Z_0} A_z
        = \Union_{z \in Z_0} f\inv (U_z)
        = f\inv \parens{ \Union_{z \in Z_0} U_z }
        = f\inv (C)
        = X
    \end{equation*}
    which shows that $X$ can be finitely partitioned. We take the complement of
    both sides. Since each piece of the partition is not in the ultrafilter,
    each piece's complement is. Hence, the intersection of all the complements,
    which is finite, is also in the ultrafilter, but this is empty set.
    \begin{align*}
        \compl{ \Union_{z \in Z_0} A_z }
        = \Intersn_{z \in Z_0} \compl{A_z}
        = \compl{X}
        = \emptyset
        \in p
    \end{align*}

    This is a contradiction.

    Next, we look at uniqueness. Suppose $z_1, z_2 \in C$ are such that
    $z_1 \neq z_2$. Since $C$ is Hausdorff, we have disjoint neighbourhoods
    $U_{z_1} \ni z_1$ and $U_{z_2} \ni z_2$. By definition of the limit,
    \begin{equation*}
        f\inv (U_{z_1}) \intersn f\inv (U_{z_2}
        = f\inv (U_{z_1} \intersn U_{z_2})
        = \emptyset
        \in p
    \end{equation*}
    which is a contradiction.
\end{proof}

\begin{prop}
    Suppose $X$ is a set and $C$ is a compact Hausdorff space.
    Let $f : X \to C$ be a function. Then $f$ has a unique continuous extension
    $\beta f : \beta X \to C$.
\end{prop}

\begin{proof}
    Define $\beta f (p) = \lim_p f$. To see that this is an extension, look at
    $g = \beta f \compose u$ where $u : X \to \beta X$ is the principal
    ultrafilter map. We would like that $z = g(a) = f(a)$ for all $a$.
    Since $g(a)$ is a limit, we have that for every neighbourhood $U$ of
    $g(a)$,
    \begin{equation*}
        \{x \in X : f(x) \in U \} \in \{ A \subseteq X : a \in A \}
    \end{equation*}
    In particular, this must hold for the neighbourhood $U = \{g(a)\}$.
    But then we have
    \begin{equation*}
        \{x \in X : f(x) \in \{g(a)\}\} \in \{A \subseteq X : a \in A \}
    \end{equation*}
    So there is a subset of $X$ which is mapped to $g(a)$ by $f$. But this
    subset of $X$ must contain $a$. Hence, $f(a) = g(a)$.

    For simplicity, we assume that $C$ is zero-dimensional, so it has a basis
    consisting of clopen sets. To show that $\beta f$ is continuous, it
    suffices to verify that the preimage of any basic open set is open.
    Let $A \subseteq C$ be a basic open set,
    $f^* = \beta f$, and
    $A^\prime = \reallywidehat{f\inv(A)}$.

    We claim that $A^\prime = {f^*}\inv (A)$.

    First, take arbitrary $p \in A^\prime$, so $f\inv(A) \in p$.
    We want to show that
    \begin{equation*}
        p \in {f^*}\inv(A)
        = \setof{
            q \in \beta X :
            f^*(q) = \lim_q f \in A
        }
    \end{equation*}
    i.e. that $z = \lim_p f \in A$.
    Suppose not, so $z \notin A$. Since $C$ is compact Hausdorff, it is
    regular. Then as $A$ is closed, we can find open sets $A^* \supseteq A$ and
    $Z \ni z$ such that $Z \intersn A^* = \emptyset$.
    Notice that since $A$ is also open, we can identify $A^*$ and $A$.
    Since $z$ is a limit over an ultrafilter, we have that the preimage of the
    neighbourhood $Z \ni z$ belongs to $p$.
    We also have that $f\inv(A) \in p$, so $f\inv(Z) \intersn f\inv(A) \in p$.
    Since $Z \intersn A = \emptyset$, the preimages under $f$ must also have
    empty intersection, so $\emptyset \in p$, which is a contradiction.

    Next, take arbitrary $p \in {f^*}\inv (A)$.
    TODO.
\end{proof}

\begin{prop}
    Suppose $(S, \cdot)$ is a semigroup. Then, $(\beta S, \cdot)$ is a left
    topological semigroup.
\end{prop}

\begin{proof}
    We need to verify two properties.

    \begin{description}
        \item[Associativity.]
            Take arbitrary $p, q, r \in \beta S$.
            We want to see that for any $A \subseteq S$,
            \begin{align*}
                A \in p \cdot (q \cdot r)
                & \iff
                \setof{
                    s \in S :
                    l_s\inv (A) \in q \cdot r
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    \setof{
                        s^\prime \in S :
                        l_{s^\prime}\inv ( l_s\inv (A) )
                        \in r
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    \setof{
                        s^\prime \in S :
                        l_s\inv ( l_{s^\prime}\inv (A) )
                        \in r
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    l_s\inv \parens{
                        \setof{
                            s^\prime \in S :
                            l_{s^\prime} (A)
                            \in r
                        }
                    }
                    \in q
                }
                \in p \\
                & \iff
                \setof{
                    s \in S :
                    l_s\inv (A) \in r
                }
                \in p \cdot q \\
                & \iff
                A \in (p \cdot q) \cdot r
            \end{align*}

        \item[Continuity.]
            We want to check that for any $s \in S$, the left multiplication
            map $L_s : \beta S \to \beta S$ is continuous.

            In general, for any $f : X \to Y$, we can obtain a continuous
            extension to $\beta f : \beta X \to \beta Y$. First, by
            postcomposing with the principal ultrafilter map, the codomain
            becomes a compact Hausdorff space. Then, we can apply proposition
            \ref{prop:compact-hausdorff-continuous-extension} to continuously
            extend the domain of the map to $\beta X$.

            Recall that $L_s = \beta l_s$, so it is continuous.
    \end{description}
\end{proof}

Recall that the right multiplication map
$R_p = \beta r_p : \beta S \to \beta S$ is defined as the continuous extension
of $r_p(s) = L_s(p)$.

\begin{prop}
    For any $p, q \in \beta S$, we have that $p \cdot q = R_q (p)$
\end{prop}

\begin{proof}
    asdf
\end{proof}

\begin{prop}
    If $S$ is a cancellative semigroup,
    then for any $p, q \in \beta S$,
    if $p \cdot q \in S$, then $p \in u(S)$ and $q \in u(S)$,
    where $u : S \to \beta S$ is the principal ultrafilter map.
\end{prop}

\begin{proof}
    Take arbitrary $p, q \in \beta S$ and suppose that $p \cdot q \in u(S)$.
    Hence we have $t \in S$ such that $p \cdot q = u(t)$ is the principal
    ultrafilter generated by $t$,
    i.e. $p \cdot q = \setof{A \subseteq S : t \in A}$.
    We want to show that $p \in u(S)$ and that $q \in u(S)$,
    i.e. that there are $p = u(t_p)$ and that $q = u(t_q)$
    for some $t_p, t_q \in S$.

    By definition of the product of ultrafilters in the \cechstone{}
    compactification, we have
    \begin{equation*}
        p \cdot q = \setof{
            A \subseteq S :
            \setof{
                s \in S :
                l_s\inv(A) \in q
            }
            \in p
        }
    \end{equation*}

    Since $p \cdot q$ is principal, $t \in A$ for each $A \in p \cdot q$.
    Hence, $\setof{s \in S : l_s\inv(\{t\}) \in q} \in p$.

    Since $S$ is cancellative, its left product maps are injective,
    so all the preimages $l_s\inv(\{t\})$ have at most one element.

    Suppose there are two distinct nonempty such preimages. Then they are both
    in $q$, so their (empty) intersection is in $q$. This is a contradiction.
    Hence, there is at most one nonempty preimage.

    Suppose there are no nonempty such preimages,
    i.e. for each $s \in S: l_s\inv(\{t\}) = \emptyset$.
    In other words, there is no pair of elements in $S$ whose product gives
    $t$.
    But then $\setof{ s \in S : l_s\inv(\{t\}) \in q } = \emptyset \in p$,
    which is a contradiction.

    Hence, there is a unique $s \in S$ such that $B = l_s\inv(\{t\})$ is
    nonempty, in particular a singleton.
    Let $l \in B$ be the unique element of $B$.

    If $\{l\} \in q$, then $l = t_q$ is the generator for $q$.

    If $\{l\} \notin q$, then its complement is in $q$, as $q$ is an
    ultrafilter.
\end{proof}
\end{document}
