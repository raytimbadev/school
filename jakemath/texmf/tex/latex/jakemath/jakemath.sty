\NeedsTeXFormat{LaTeX2e}[1996/06/01]
\ProvidesPackage{jakemath}[2017/03/20 Jake's Math Library]

%%%%% PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{geometry}
\RequirePackage{amsmath,amssymb,amsthm}
\RequirePackage{hyperref}
\RequirePackage{environ}
\RequirePackage{tikz}
\RequirePackage{textcomp}

%%%%%%%%%%% OPTIONS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% GENERAL FORMATTING %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareOption{geometry}{%
    % Page size and margins
    \geometry{%
        letterpaper,
        margin=2.0cm,
    }
}

\DeclareOption{questions}{%
    \renewcommand{\thesection}{%
        Question \arabic{section}%
    }
    \newcommand{\question}{\section}
}

\ProcessOptions\relax

%%%%%%%%%% MAIN LIBRARY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% TIKZ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Import common tikzlibraries to be sure.
\usetikzlibrary{graphs,arrows}

% Make arrow tips look nicer, and always shorten the ends.
\tikzset{
    shorten >=1pt,
    >=stealth', % this tip is provided by `arrows` !
}

%%%%% THEOREM-LIKE ENVIRONMENTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Actual theorem-like things
\newtheorem{thm}{Theorem}
\newtheorem{prop}{Proposition}
\newtheorem{lem}{Lemma}
\newtheorem{cor}{Corollary}

% Definitions and examples use the "definition style", where the text is
% written in roman and not in italic.
\theoremstyle{definition}
\newtheorem{defn}{Definition}% [section] % don't want them grouped by sections
\newtheorem{eg}{Example}

% Remarks use the remark style, where the word "remark" is shown in a less
% invasive way.
\theoremstyle{remark}
\newtheorem{rem}{Remark}% [section] % don't want grouping by sections

% Solutions to exercises
%\makeatletter
\newenvironment{solution}{
    \let\oldqedsymbol=\qedsymbol%
    \def\@addpunct##1{}%
    \renewcommand{\qedsymbol}{$\blacktriangleleft$}%
    \begin{proof}[\textit Solution.]
}{
    \end{proof}%
    \renewcommand{\qedsymbol}{\oldqedsymbol}
}
%\makeatother

\newcommand{\omittedproof}{%
    \begin{proof}
        Omitted.
    \end{proof}
}

%%%%% MATHEMATICAL SHORTHANDS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Misc math operators
\newcommand{\parens}[1]{\left(#1\right)}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\setof}[1]{\left\{#1\right\}}
\newcommand{\Union}{\bigcup}
\newcommand{\union}{\cup}
\newcommand{\Intersn}{\bigcap}
\newcommand{\intersn}{\cap}
\newcommand{\symdiff}{\mathbin{\Delta}}
\newcommand{\fact}{!\,}
\newcommand{\given}{\;\vert\;}
\newcommand{\compl}{^c}
\newcommand{\inv}{^{-1}}
\newcommand{\preimage}[1]{^{-1}\parens{\setof{#1}}}
\newcommand{\compose}{\circ}
\newcommand{\range}[2][1]{%
    \setof{#1,\ldots,#2}
}
\newcommand{\infsum}{\sum^\infty}
\renewcommand{\d}{\mathrm{d}}
\newcommand{\intd}{\;\d}
\newcommand{\deriv}[2][]{%
    \ensuremath
    \frac{\d #1}{\d #2}
}
\newcommand{\upto}{\mathbin{\uparrow}}
\newcommand{\fromleft}{^-}
\newcommand{\infinfint}{%
    \ensuremath \int_{-\infty}^{\infty}
}
\newcommand{\intfrominf}{%
    \ensuremath \int_{-\infty}
}
\newcommand{\inttoinf}{%
    \ensuremath \int^{\infty}
}


% Sets of numbers
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\unit}{[0,1]}

% Probabilistic operators
\DeclareMathOperator{\Prob}{P}
\renewcommand{\P}[1]{\Prob{\parens{#1}}}
\DeclareMathOperator{\prob}{p}
\newcommand{\p}[2][]{%
    \def\temp{#2}
    \ifx\temp\empty
        \prob{\parens{#2}}
    \else
        \prob_{#1}{\parens{#2}}
    \fi
}
\DeclareMathOperator{\Expect}{\mathbb{E}}
\newcommand{\E}[1]{\Expect{\left[#1\right]}}
\DeclareMathOperator{\Var}{\mathbb{V}}
\newcommand{\V}[1]{\Var{\parens{#1}}}

% Distributions
\DeclareMathOperator{\BinOp}{Bin}
\newcommand{\Bin}[1]{ \BinOp\parens{#1} }
\DeclareMathOperator{\PoiOp}{Poi}
\newcommand{\Poi}[1]{ \PoiOp\parens{#1} }

% Absolutely misc
\renewcommand{\th}{\textsuperscript{th}}
\newcommand{\cdf}{cumulative distribution function}
\newcommand{\pmf}{probability mass function}
\newcommand{\pdf}{probability density function}
\newcommand{\mgf}{moment generating function}
\newcommand{\Cdf}{Cumulative distribution function}
\newcommand{\Pmf}{Probability mass function}
\newcommand{\Pdf}{Probability density function}
\newcommand{\Mgf}{Moment generating function}

\endinput
